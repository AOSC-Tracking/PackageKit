<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://web.resource.org/cc/"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="744.09448819"
   height="1052.3622047"
   id="svg2"
   sodipodi:version="0.32"
   inkscape:version="0.45.1"
   sodipodi:docbase="/home/hughsie/Code/PackageKit/docs"
   sodipodi:docname="pk-structure.svg"
   inkscape:export-filename="/home/hughsie/Code/PackageKit/docs/pk-structure.png"
   inkscape:export-xdpi="51.209103"
   inkscape:export-ydpi="51.209103"
   inkscape:output_extension="org.inkscape.output.svg.inkscape">
  <defs
     id="defs4">
    <marker
       inkscape:stockid="Arrow1Send"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow1Send"
       style="overflow:visible;">
      <path
         id="path4218"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none;"
         transform="scale(0.2) rotate(180) translate(6,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow1Mend"
       style="overflow:visible;">
      <path
         id="path4212"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none;"
         transform="scale(0.4) rotate(180) translate(10,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Sstart"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow1Sstart"
       style="overflow:visible">
      <path
         id="path4215"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none"
         transform="scale(0.2) translate(6,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mstart"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow1Mstart"
       style="overflow:visible">
      <path
         id="path4888"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none"
         transform="scale(0.4) translate(10,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lstart"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow1Lstart"
       style="overflow:visible">
      <path
         id="path4894"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none"
         transform="scale(0.8) translate(12.5,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     gridtolerance="10000"
     guidetolerance="10"
     objecttolerance="10"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="0.7"
     inkscape:cx="367.26656"
     inkscape:cy="499.46921"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:grid-points="true"
     inkscape:object-nodes="true"
     inkscape:object-points="true"
     inkscape:object-bbox="true"
     inkscape:window-width="1270"
     inkscape:window-height="721"
     inkscape:window-x="0"
     inkscape:window-y="25"
     showguides="true"
     inkscape:guide-bbox="true" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1.7894913;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.78949133, 21.4738959;stroke-dashoffset:0;stroke-opacity:1"
       d="M 39.60114,733.36218 L 600,733.36218 L 600,733.36218"
       id="path1950" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1.79076731;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.79076725, 21.48920706;stroke-dashoffset:0;stroke-opacity:1"
       d="M 37.906328,333.25757 L 599.10462,333.25757 L 599.10462,333.25757"
       id="path2839" />
    <rect
       style="opacity:1;fill:#ededed;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1882"
       width="160"
       height="80"
       x="240"
       y="212.36218" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="316.28711"
       y="246.9657"
       id="text1942"><tspan
         sodipodi:role="line"
         x="316.28711"
         y="246.9657"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan3730">Update</tspan><tspan
         sodipodi:role="line"
         x="316.28711"
         y="281.9657"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan2226">Icon</tspan></text>
    <rect
       style="opacity:1;fill:#729fcf;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1876"
       width="340"
       height="80"
       x="160"
       y="372.36218" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="216.07422"
       y="424.04187"
       id="text1946"><tspan
         sodipodi:role="line"
         id="tspan1948"
         x="216.07422"
         y="424.04187"
         style="font-size:40px">PackageKit</tspan></text>
    <rect
       style="opacity:1;fill:#ad7fa8;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1884"
       width="200"
       height="80"
       x="220"
       y="492.36218" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="327.54688"
       y="523.79077"
       id="text1918"><tspan
         sodipodi:role="line"
         x="327.54688"
         y="523.79077"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan3732">Active</tspan><tspan
         sodipodi:role="line"
         x="327.54688"
         y="558.79077"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan3227">Queue</tspan></text>
    <rect
       style="opacity:1;fill:#ededed;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect2230"
       width="160"
       height="80"
       x="40"
       y="212.36218" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="116.28711"
       y="246.9657"
       id="text2232"><tspan
         sodipodi:role="line"
         x="116.28711"
         y="246.9657"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan2236">Software</tspan><tspan
         sodipodi:role="line"
         x="116.28711"
         y="281.9657"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan2240">Installer</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="98.583984"
       y="327.07898"
       id="text3217"><tspan
         sodipodi:role="line"
         x="98.583984"
         y="327.07898"
         style="font-size:20px;text-align:center;text-anchor:middle"
         id="tspan3221">SYSTEM</tspan><tspan
         sodipodi:role="line"
         x="98.583984"
         y="352.07898"
         style="font-size:20px;text-align:center;text-anchor:middle"
         id="tspan2229">DBUS</tspan></text>
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:5.81893778;stroke-linecap:square;stroke-linejoin:miter;marker-start:url(#Arrow1Sstart);stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 325.32143,484.35568 C 325.32143,454.46904 325.32143,454.46904 325.32143,454.46904"
       id="path4398"
       sodipodi:nodetypes="cc" />
    <rect
       style="opacity:1;fill:#ff9955;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect5369"
       width="200"
       height="80"
       x="120"
       y="612.36218" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="227.54688"
       y="642.98816"
       id="text5371"><tspan
         sodipodi:role="line"
         x="227.54688"
         y="642.98816"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan5375">Backend</tspan><tspan
         sodipodi:role="line"
         x="227.54688"
         y="677.98816"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan5381">Task (helper)</tspan></text>
    <rect
       style="opacity:1;fill:#ff9955;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect5383"
       width="135"
       height="80"
       x="340"
       y="612.36218" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="402.6875"
       y="643.63562"
       id="text5385"><tspan
         sodipodi:role="line"
         x="402.6875"
         y="643.63562"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan5387">Backend</tspan><tspan
         sodipodi:role="line"
         x="402.6875"
         y="678.63562"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan5389">Task</tspan></text>
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;marker-end:url(#Arrow1Send);stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 172.5,292.36218 L 277.5,372.36218"
       id="path5395"
       inkscape:connector-type="polyline"
       inkscape:connection-start="#rect2230"
       inkscape:connection-end="#rect1876" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;marker-end:url(#Arrow1Send);stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 322.5,292.36218 L 327.5,372.36218"
       id="path5397"
       inkscape:connector-type="polyline"
       inkscape:connection-start="#rect1882"
       inkscape:connection-end="#rect1876" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;marker-end:url(#Arrow1Send);stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 286.66667,572.36218 L 253.33333,612.36218"
       id="path5401"
       inkscape:connector-type="polyline"
       inkscape:connection-start="#rect1884"
       inkscape:connection-end="#rect5369" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;marker-end:url(#Arrow1Send);stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 349.16667,572.36218 L 378.33333,612.36218"
       id="path5403"
       inkscape:connector-type="polyline"
       inkscape:connection-start="#rect1884"
       inkscape:connection-end="#rect5383" />
    <rect
       style="opacity:1;fill:#87de87;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect6378"
       width="200"
       height="80"
       x="120"
       y="772.36218" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="224.55273"
       y="806.9657"
       id="text6380"><tspan
         sodipodi:role="line"
         x="224.55273"
         y="806.9657"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan6384">Helper</tspan><tspan
         sodipodi:role="line"
         x="224.55273"
         y="841.9657"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan6388">Executable</tspan></text>
    <rect
       style="opacity:1;fill:#ededed;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect8340"
       width="160"
       height="80"
       x="440"
       y="212.36218" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="513.42999"
       y="246.9657"
       id="text8342"><tspan
         sodipodi:role="line"
         x="513.42999"
         y="246.9657"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan8344">Update</tspan><tspan
         sodipodi:role="line"
         x="513.42999"
         y="281.9657"
         style="font-size:28px;text-align:center;text-anchor:middle"
         id="tspan8346">Viewer</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="378.4668"
       y="727.20593"
       id="text8348"><tspan
         sodipodi:role="line"
         x="378.4668"
         y="727.20593"
         style="font-size:20px;text-align:center;text-anchor:middle"
         id="tspan8350">STDIN</tspan><tspan
         sodipodi:role="line"
         x="378.4668"
         y="752.20593"
         style="font-size:20px;text-align:center;text-anchor:middle"
         id="tspan2216">STDERR</tspan><tspan
         sodipodi:role="line"
         x="378.4668"
         y="777.20593"
         style="font-size:20px;text-align:center;text-anchor:middle"
         id="tspan2218">STDOUT</tspan></text>
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;marker-end:url(#Arrow1Send);stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="M 220,692.36218 L 220,772.36218"
       id="path8352"
       inkscape:connector-type="polyline"
       inkscape:connection-start="#rect5369"
       inkscape:connection-end="#rect6378" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none;marker-end:url(#Arrow1Send)"
       d="M 472.5,292.36218 L 377.5,372.36218"
       id="path8356"
       inkscape:connector-type="polyline"
       inkscape:connection-start="#rect8340"
       inkscape:connection-end="#rect1876" />
    <rect
       style="opacity:1;fill:#c8b7b7;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect2213"
       width="125"
       height="25"
       x="475"
       y="612.36218" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="537.91016"
       y="632.36218"
       id="text2215"><tspan
         sodipodi:role="line"
         x="537.91016"
         y="632.36218"
         style="font-size:20px;text-align:center;text-anchor:middle"
         id="tspan2219">Thread #1</tspan></text>
    <rect
       style="opacity:1;fill:#916f6f;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect2223"
       width="125"
       height="25.101501"
       x="475"
       y="637.26068" />
    <text
       xml:space="preserve"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="537.91016"
       y="657.36218"
       id="text2225"><tspan
         sodipodi:role="line"
         x="537.91016"
         y="657.36218"
         style="font-size:20px;text-align:center;text-anchor:middle"
         id="tspan2227">Thread #2</tspan></text>
  </g>
</svg>
