#!/usr/bin/python

#Marshall file
libpackagekit = bld.create_obj('gnome', 'shlib')
libpackagekit.add_marshal_file('pk-marshal.list', 'pk_marshal', '--header')
libpackagekit.add_marshal_file('pk-marshal.list', 'pk_marshal', '--body')
libpackagekit.uselib = 'GLIB GOBJECT DBUS DBUS_GLIB'
libpackagekit.uselib_local = 'libgbus libselftest'
libpackagekit.target = 'packagekit'

libpackagekit.source = """
	pk-debug.c
	pk-connection.c
	pk-package-id.c
	pk-package-list.c
	pk-enum-list.c
	pk-enum.c
	pk-common.c
	pk-client.c
	pk-task-list.c
	pk-job-list.c
	pk-polkit-client.c
"""

libpackagekit.includes      = '. ../libgbus ../libselftest'
libpackagekit.target        = 'libpackagekit'
libpackagekit.name          = 'libpackagekit'

#TODO: Need to install headers to /usr/include/packagekit/

#TODO: if Params.g_options.tests then add the self test program: pk-self-test.c and all the libs above and execute the pk-self-test application

